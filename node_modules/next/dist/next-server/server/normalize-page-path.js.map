{"version":3,"sources":["../../../next-server/server/normalize-page-path.ts"],"names":["normalizePagePath","page","startsWith","resolvedPage","posix","normalize","Error"],"mappings":"iFAAA,0BACO,QAASA,CAAAA,iBAAT,CAA2BC,IAA3B,CAAiD,CACtD;AACA,GAAIA,IAAI,GAAK,GAAb,CAAkB,CAChBA,IAAI,CAAG,QAAP,CACD,CACD;AACA,GAAI,CAACA,IAAI,CAACC,UAAL,CAAgB,GAAhB,CAAL,CAA2B,CACzBD,IAAI,CAAI,IAAGA,IAAK,EAAhB,CACD,CACD;AACA,KAAME,CAAAA,YAAY,CAAGC,YAAMC,SAAN,CAAgBJ,IAAhB,CAArB,CACA,GAAIA,IAAI,GAAKE,YAAb,CAA2B,CACzB,KAAM,IAAIG,CAAAA,KAAJ,CACH,yCAAwCL,IAAK,IAAGE,YAAa,EAD1D,CAAN,CAGD,CACD,MAAOF,CAAAA,IAAP,CACD","sourcesContent":["import { posix } from 'path'\nexport function normalizePagePath(page: string): string {\n  // If the page is `/` we need to append `/index`, otherwise the returned directory root will be bundles instead of pages\n  if (page === '/') {\n    page = '/index'\n  }\n  // Resolve on anything that doesn't start with `/`\n  if (!page.startsWith('/')) {\n    page = `/${page}`\n  }\n  // Throw when using ../ etc in the pathname\n  const resolvedPage = posix.normalize(page)\n  if (page !== resolvedPage) {\n    throw new Error(\n      `Requested and resolved page mismatch: ${page} ${resolvedPage}`\n    )\n  }\n  return page\n}\n"]}