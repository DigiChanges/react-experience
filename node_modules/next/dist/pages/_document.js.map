{"version":3,"sources":["../../pages/_document.tsx"],"names":["middleware","req","res","dedupe","bundles","files","Set","kept","bundle","has","file","add","push","getOptionalModernScriptVariant","path","process","env","__NEXT_MODERN_BUILD","replace","Document","Component","getInitialProps","ctx","enhancers","__NEXT_PLUGINS","then","mod","default","enhanceApp","App","enhancer","props","html","head","renderPage","styles","renderDocument","_documentProps","_devOnlyInvalidateCacheQueryString","NODE_ENV","Date","now","render","headTagsMiddleware","bodyTagsMiddleware","htmlPropsMiddleware","Html","context","inAmpMode","htmlProps","undefined","contextType","DocumentComponentContext","propTypes","children","PropTypes","node","isRequired","Head","getCssLinks","assetPrefix","cssFiles","length","filter","f","test","cssLinkElements","forEach","nonce","encodeURI","crossOrigin","getPreloadDynamicChunks","dynamicImports","map","endsWith","Boolean","getPreloadMainLinks","preloadFiles","ampPath","hybridAmp","canonicalBase","__NEXT_DATA__","dangerousAsPath","headTags","unstable_runtimeJS","disableRuntimeJS","page","buildId","React","Children","child","isReactHelmet","type","console","warn","hasAmphtmlRel","hasCanonicalRel","badProp","name","rel","src","indexOf","dangerouslySetInnerHTML","Object","keys","prop","curStyles","Array","isArray","hasStyles","el","__html","isDevelopment","count","toString","style","join","getAmpPath","getPageFile","createElement","Fragment","string","Main","AMP_RENDER_TARGET","NextScript","getDynamicChunks","modernProps","noModule","includes","getScripts","lowPriorityFiles","normalScripts","lowPriorityScripts","getPolyfillScripts","polyfillFiles","polyfill","getInlineScriptSource","documentProps","data","JSON","stringify","err","message","Error","staticMarkup","devFiles","bodyTags","CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH","CLIENT_STATIC_FILES_RUNTIME_AMP","CLIENT_STATIC_FILES_RUNTIME_WEBPACK","pageScript","appScript","match","safariNomoduleFix","asPath","startingUrl"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport flush from 'styled-jsx/server'\nimport {\n  AMP_RENDER_TARGET,\n  CLIENT_STATIC_FILES_RUNTIME_AMP,\n  CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH,\n  CLIENT_STATIC_FILES_RUNTIME_WEBPACK,\n} from '../next-server/lib/constants'\nimport { DocumentContext as DocumentComponentContext } from '../next-server/lib/document-context'\nimport {\n  DocumentContext,\n  DocumentInitialProps,\n  DocumentProps,\n} from '../next-server/lib/utils'\nimport { cleanAmpPath } from '../next-server/server/utils'\nimport { htmlEscapeJsonString } from '../server/htmlescape'\n\nexport { DocumentContext, DocumentInitialProps, DocumentProps }\n\nexport type OriginProps = {\n  nonce?: string\n  crossOrigin?: string\n}\n\nexport async function middleware({ req, res }: DocumentContext) {}\n\nfunction dedupe(bundles: any[]): any[] {\n  const files = new Set()\n  const kept = []\n\n  for (const bundle of bundles) {\n    if (files.has(bundle.file)) continue\n    files.add(bundle.file)\n    kept.push(bundle)\n  }\n  return kept\n}\n\nfunction getOptionalModernScriptVariant(path: string): string {\n  if (process.env.__NEXT_MODERN_BUILD) {\n    return path.replace(/\\.js$/, '.module.js')\n  }\n  return path\n}\n\n/**\n * `Document` component handles the initial `document` markup and renders only on the server side.\n * Commonly used for implementing server side rendering for `css-in-js` libraries.\n */\nexport default class Document<P = {}> extends Component<DocumentProps & P> {\n  static headTagsMiddleware = process.env.__NEXT_PLUGINS\n    ? import(\n        // @ts-ignore loader syntax\n        'next-plugin-loader?middleware=document-head-tags-server!'\n      )\n    : () => []\n  static bodyTagsMiddleware = process.env.__NEXT_PLUGINS\n    ? import(\n        // @ts-ignore loader syntax\n        'next-plugin-loader?middleware=document-body-tags-server!'\n      )\n    : () => []\n  static htmlPropsMiddleware = process.env.__NEXT_PLUGINS\n    ? import(\n        // @ts-ignore loader syntax\n        'next-plugin-loader?middleware=document-html-props-server!'\n      )\n    : () => []\n\n  /**\n   * `getInitialProps` hook returns the context object with the addition of `renderPage`.\n   * `renderPage` callback executes `React` rendering logic synchronously to support server-rendering wrappers\n   */\n  static async getInitialProps(\n    ctx: DocumentContext\n  ): Promise<DocumentInitialProps> {\n    const enhancers = process.env.__NEXT_PLUGINS\n      ? await import(\n          // @ts-ignore loader syntax\n          'next-plugin-loader?middleware=unstable-enhance-app-server!'\n        ).then((mod) => mod.default(ctx))\n      : []\n\n    const enhanceApp = (App: any) => {\n      for (const enhancer of enhancers) {\n        App = enhancer(App)\n      }\n      return (props: any) => <App {...props} />\n    }\n\n    const { html, head } = await ctx.renderPage({ enhanceApp })\n    const styles = [\n      ...flush(),\n      ...(process.env.__NEXT_PLUGINS\n        ? await import(\n            // @ts-ignore loader syntax\n            'next-plugin-loader?middleware=unstable-get-styles-server!'\n          ).then((mod) => mod.default(ctx))\n        : []),\n    ]\n    return { html, head, styles }\n  }\n\n  static renderDocument<P>(\n    Document: new () => Document<P>,\n    props: DocumentProps & P\n  ): React.ReactElement {\n    return (\n      <DocumentComponentContext.Provider\n        value={{\n          _documentProps: props,\n          // In dev we invalidate the cache by appending a timestamp to the resource URL.\n          // This is a workaround to fix https://github.com/vercel/next.js/issues/5860\n          // TODO: remove this workaround when https://bugs.webkit.org/show_bug.cgi?id=187726 is fixed.\n          _devOnlyInvalidateCacheQueryString:\n            process.env.NODE_ENV !== 'production' ? '?ts=' + Date.now() : '',\n        }}\n      >\n        <Document {...props} />\n      </DocumentComponentContext.Provider>\n    )\n  }\n\n  render() {\n    return (\n      <Html>\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    )\n  }\n}\n\nexport class Html extends Component<\n  React.DetailedHTMLProps<\n    React.HtmlHTMLAttributes<HTMLHtmlElement>,\n    HTMLHtmlElement\n  >\n> {\n  static contextType = DocumentComponentContext\n\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n  }\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  render() {\n    const { inAmpMode, htmlProps } = this.context._documentProps\n    return (\n      <html\n        {...htmlProps}\n        {...this.props}\n        amp={inAmpMode ? '' : undefined}\n        data-ampdevmode={\n          inAmpMode && process.env.NODE_ENV !== 'production' ? '' : undefined\n        }\n      />\n    )\n  }\n}\n\nexport class Head extends Component<\n  OriginProps &\n    React.DetailedHTMLProps<\n      React.HTMLAttributes<HTMLHeadElement>,\n      HTMLHeadElement\n    >\n> {\n  static contextType = DocumentComponentContext\n\n  static propTypes = {\n    nonce: PropTypes.string,\n    crossOrigin: PropTypes.string,\n  }\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  getCssLinks(): JSX.Element[] | null {\n    const { assetPrefix, files } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n    const cssFiles =\n      files && files.length ? files.filter((f) => /\\.css$/.test(f)) : []\n\n    const cssLinkElements: JSX.Element[] = []\n    cssFiles.forEach((file) => {\n      cssLinkElements.push(\n        <link\n          key={`${file}-preload`}\n          nonce={this.props.nonce}\n          rel=\"preload\"\n          href={`${assetPrefix}/_next/${encodeURI(\n            file\n          )}${_devOnlyInvalidateCacheQueryString}`}\n          as=\"style\"\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n        />,\n        <link\n          key={file}\n          nonce={this.props.nonce}\n          rel=\"stylesheet\"\n          href={`${assetPrefix}/_next/${encodeURI(\n            file\n          )}${_devOnlyInvalidateCacheQueryString}`}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n        />\n      )\n    })\n\n    return cssLinkElements.length === 0 ? null : cssLinkElements\n  }\n\n  getPreloadDynamicChunks() {\n    const { dynamicImports, assetPrefix } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    return (\n      dedupe(dynamicImports)\n        .map((bundle: any) => {\n          // `dynamicImports` will contain both `.js` and `.module.js` when the\n          // feature is enabled. This clause will filter down to the modern\n          // variants only.\n          if (!bundle.file.endsWith(getOptionalModernScriptVariant('.js'))) {\n            return null\n          }\n\n          return (\n            <link\n              rel=\"preload\"\n              key={bundle.file}\n              href={`${assetPrefix}/_next/${encodeURI(\n                bundle.file\n              )}${_devOnlyInvalidateCacheQueryString}`}\n              as=\"script\"\n              nonce={this.props.nonce}\n              crossOrigin={this.props.crossOrigin || process.crossOrigin}\n            />\n          )\n        })\n        // Filter out nulled scripts\n        .filter(Boolean)\n    )\n  }\n\n  getPreloadMainLinks(): JSX.Element[] | null {\n    const { assetPrefix, files } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    const preloadFiles =\n      files && files.length\n        ? files.filter((file: string) => {\n            // `dynamicImports` will contain both `.js` and `.module.js` when\n            // the feature is enabled. This clause will filter down to the\n            // modern variants only.\n            return file.endsWith(getOptionalModernScriptVariant('.js'))\n          })\n        : []\n\n    return !preloadFiles.length\n      ? null\n      : preloadFiles.map((file: string) => (\n          <link\n            key={file}\n            nonce={this.props.nonce}\n            rel=\"preload\"\n            href={`${assetPrefix}/_next/${encodeURI(\n              file\n            )}${_devOnlyInvalidateCacheQueryString}`}\n            as=\"script\"\n            crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          />\n        ))\n  }\n\n  render() {\n    const {\n      styles,\n      ampPath,\n      inAmpMode,\n      assetPrefix,\n      hybridAmp,\n      canonicalBase,\n      __NEXT_DATA__,\n      dangerousAsPath,\n      headTags,\n      unstable_runtimeJS,\n    } = this.context._documentProps\n    const disableRuntimeJS = unstable_runtimeJS === false\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n    const { page, buildId } = __NEXT_DATA__\n\n    let { head } = this.context._documentProps\n    let children = this.props.children\n    // show a warning if Head contains <title> (only in development)\n    if (process.env.NODE_ENV !== 'production') {\n      children = React.Children.map(children, (child: any) => {\n        const isReactHelmet = child?.props?.['data-react-helmet']\n        if (child?.type === 'title' && !isReactHelmet) {\n          console.warn(\n            \"Warning: <title> should not be used in _document.js's <Head>. https://err.sh/next.js/no-document-title\"\n          )\n        }\n        return child\n      })\n      if (this.props.crossOrigin)\n        console.warn(\n          'Warning: `Head` attribute `crossOrigin` is deprecated. https://err.sh/next.js/doc-crossorigin-deprecated'\n        )\n    }\n\n    let hasAmphtmlRel = false\n    let hasCanonicalRel = false\n\n    // show warning and remove conflicting amp head tags\n    head = React.Children.map(head || [], (child) => {\n      if (!child) return child\n      const { type, props } = child\n\n      if (inAmpMode) {\n        let badProp: string = ''\n\n        if (type === 'meta' && props.name === 'viewport') {\n          badProp = 'name=\"viewport\"'\n        } else if (type === 'link' && props.rel === 'canonical') {\n          hasCanonicalRel = true\n        } else if (type === 'script') {\n          // only block if\n          // 1. it has a src and isn't pointing to ampproject's CDN\n          // 2. it is using dangerouslySetInnerHTML without a type or\n          // a type of text/javascript\n          if (\n            (props.src && props.src.indexOf('ampproject') < -1) ||\n            (props.dangerouslySetInnerHTML &&\n              (!props.type || props.type === 'text/javascript'))\n          ) {\n            badProp = '<script'\n            Object.keys(props).forEach((prop) => {\n              badProp += ` ${prop}=\"${props[prop]}\"`\n            })\n            badProp += '/>'\n          }\n        }\n\n        if (badProp) {\n          console.warn(\n            `Found conflicting amp tag \"${child.type}\" with conflicting prop ${badProp} in ${__NEXT_DATA__.page}. https://err.sh/next.js/conflicting-amp-tag`\n          )\n          return null\n        }\n      } else {\n        // non-amp mode\n        if (type === 'link' && props.rel === 'amphtml') {\n          hasAmphtmlRel = true\n        }\n      }\n      return child\n    })\n\n    // try to parse styles from fragment for backwards compat\n    const curStyles: React.ReactElement[] = Array.isArray(styles)\n      ? (styles as React.ReactElement[])\n      : []\n    if (\n      inAmpMode &&\n      styles &&\n      // @ts-ignore Property 'props' does not exist on type ReactElement\n      styles.props &&\n      // @ts-ignore Property 'props' does not exist on type ReactElement\n      Array.isArray(styles.props.children)\n    ) {\n      const hasStyles = (el: React.ReactElement) =>\n        el?.props?.dangerouslySetInnerHTML?.__html\n      // @ts-ignore Property 'props' does not exist on type ReactElement\n      styles.props.children.forEach((child: React.ReactElement) => {\n        if (Array.isArray(child)) {\n          child.forEach((el) => hasStyles(el) && curStyles.push(el))\n        } else if (hasStyles(child)) {\n          curStyles.push(child)\n        }\n      })\n    }\n\n    return (\n      <head {...this.props}>\n        {this.context._documentProps.isDevelopment && (\n          <>\n            <style\n              data-next-hide-fouc\n              data-ampdevmode={inAmpMode ? 'true' : undefined}\n              dangerouslySetInnerHTML={{\n                __html: `body{display:none}`,\n              }}\n            />\n            <noscript\n              data-next-hide-fouc\n              data-ampdevmode={inAmpMode ? 'true' : undefined}\n            >\n              <style\n                dangerouslySetInnerHTML={{\n                  __html: `body{display:block}`,\n                }}\n              />\n            </noscript>\n          </>\n        )}\n        {children}\n        {head}\n        <meta\n          name=\"next-head-count\"\n          content={React.Children.count(head || []).toString()}\n        />\n        {inAmpMode && (\n          <>\n            <meta\n              name=\"viewport\"\n              content=\"width=device-width,minimum-scale=1,initial-scale=1\"\n            />\n            {!hasCanonicalRel && (\n              <link\n                rel=\"canonical\"\n                href={canonicalBase + cleanAmpPath(dangerousAsPath)}\n              />\n            )}\n            {/* https://www.ampproject.org/docs/fundamentals/optimize_amp#optimize-the-amp-runtime-loading */}\n            <link\n              rel=\"preload\"\n              as=\"script\"\n              href=\"https://cdn.ampproject.org/v0.js\"\n            />\n            {/* Add custom styles before AMP styles to prevent accidental overrides */}\n            {styles && (\n              <style\n                amp-custom=\"\"\n                dangerouslySetInnerHTML={{\n                  __html: curStyles\n                    .map((style) => style.props.dangerouslySetInnerHTML.__html)\n                    .join('')\n                    .replace(/\\/\\*# sourceMappingURL=.*\\*\\//g, '')\n                    .replace(/\\/\\*@ sourceURL=.*?\\*\\//g, ''),\n                }}\n              />\n            )}\n            <style\n              amp-boilerplate=\"\"\n              dangerouslySetInnerHTML={{\n                __html: `body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}`,\n              }}\n            />\n            <noscript>\n              <style\n                amp-boilerplate=\"\"\n                dangerouslySetInnerHTML={{\n                  __html: `body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}`,\n                }}\n              />\n            </noscript>\n            <script async src=\"https://cdn.ampproject.org/v0.js\" />\n          </>\n        )}\n        {!inAmpMode && (\n          <>\n            {!hasAmphtmlRel && hybridAmp && (\n              <link\n                rel=\"amphtml\"\n                href={canonicalBase + getAmpPath(ampPath, dangerousAsPath)}\n              />\n            )}\n            {this.getCssLinks()}\n            {!disableRuntimeJS && (\n              <link\n                rel=\"preload\"\n                href={\n                  assetPrefix +\n                  getOptionalModernScriptVariant(\n                    encodeURI(`/_next/static/${buildId}/pages/_app.js`)\n                  ) +\n                  _devOnlyInvalidateCacheQueryString\n                }\n                as=\"script\"\n                nonce={this.props.nonce}\n                crossOrigin={this.props.crossOrigin || process.crossOrigin}\n              />\n            )}\n            {!disableRuntimeJS && page !== '/_error' && (\n              <link\n                rel=\"preload\"\n                href={\n                  assetPrefix +\n                  getOptionalModernScriptVariant(\n                    encodeURI(\n                      `/_next/static/${buildId}/pages${getPageFile(page)}`\n                    )\n                  ) +\n                  _devOnlyInvalidateCacheQueryString\n                }\n                as=\"script\"\n                nonce={this.props.nonce}\n                crossOrigin={this.props.crossOrigin || process.crossOrigin}\n              />\n            )}\n            {!disableRuntimeJS && this.getPreloadDynamicChunks()}\n            {!disableRuntimeJS && this.getPreloadMainLinks()}\n            {this.context._documentProps.isDevelopment && (\n              // this element is used to mount development styles so the\n              // ordering matches production\n              // (by default, style-loader injects at the bottom of <head />)\n              <noscript id=\"__next_css__DO_NOT_USE__\" />\n            )}\n            {styles || null}\n          </>\n        )}\n        {React.createElement(React.Fragment, {}, ...(headTags || []))}\n      </head>\n    )\n  }\n}\n\nexport class Main extends Component {\n  static contextType = DocumentComponentContext\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  render() {\n    const { inAmpMode, html } = this.context._documentProps\n    if (inAmpMode) return AMP_RENDER_TARGET\n    return <div id=\"__next\" dangerouslySetInnerHTML={{ __html: html }} />\n  }\n}\n\nexport class NextScript extends Component<OriginProps> {\n  static contextType = DocumentComponentContext\n\n  static propTypes = {\n    nonce: PropTypes.string,\n    crossOrigin: PropTypes.string,\n  }\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  // Source: https://gist.github.com/samthor/64b114e4a4f539915a95b91ffd340acc\n  static safariNomoduleFix =\n    '!function(){var e=document,t=e.createElement(\"script\");if(!(\"noModule\"in t)&&\"onbeforeload\"in t){var n=!1;e.addEventListener(\"beforeload\",function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute(\"nomodule\")||!n)return;e.preventDefault()},!0),t.type=\"module\",t.src=\".\",e.head.appendChild(t),t.remove()}}();'\n\n  getDynamicChunks() {\n    const { dynamicImports, assetPrefix, files } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    return dedupe(dynamicImports).map((bundle: any) => {\n      let modernProps = {}\n      if (process.env.__NEXT_MODERN_BUILD) {\n        modernProps = /\\.module\\.js$/.test(bundle.file)\n          ? { type: 'module' }\n          : { noModule: true }\n      }\n\n      if (!/\\.js$/.test(bundle.file) || files.includes(bundle.file)) return null\n\n      return (\n        <script\n          async\n          key={bundle.file}\n          src={`${assetPrefix}/_next/${encodeURI(\n            bundle.file\n          )}${_devOnlyInvalidateCacheQueryString}`}\n          nonce={this.props.nonce}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          {...modernProps}\n        />\n      )\n    })\n  }\n\n  getScripts() {\n    const { assetPrefix, files, lowPriorityFiles } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    const normalScripts = files?.filter((file) => file.endsWith('.js'))\n    const lowPriorityScripts = lowPriorityFiles?.filter((file) =>\n      file.endsWith('.js')\n    )\n\n    return [...normalScripts, ...lowPriorityScripts].map((file) => {\n      let modernProps = {}\n      if (process.env.__NEXT_MODERN_BUILD) {\n        modernProps = file.endsWith('.module.js')\n          ? { type: 'module' }\n          : { noModule: true }\n      }\n      return (\n        <script\n          key={file}\n          src={`${assetPrefix}/_next/${encodeURI(\n            file\n          )}${_devOnlyInvalidateCacheQueryString}`}\n          nonce={this.props.nonce}\n          async\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          {...modernProps}\n        />\n      )\n    })\n  }\n\n  getPolyfillScripts() {\n    // polyfills.js has to be rendered as nomodule without async\n    // It also has to be the first script to load\n    const { assetPrefix, polyfillFiles } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    return polyfillFiles\n      .filter(\n        (polyfill) =>\n          polyfill.endsWith('.js') && !/\\.module\\.js$/.test(polyfill)\n      )\n      .map((polyfill) => (\n        <script\n          key={polyfill}\n          nonce={this.props.nonce}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          noModule={true}\n          src={`${assetPrefix}/_next/${polyfill}${_devOnlyInvalidateCacheQueryString}`}\n        />\n      ))\n  }\n\n  static getInlineScriptSource(documentProps: DocumentProps): string {\n    const { __NEXT_DATA__ } = documentProps\n    try {\n      const data = JSON.stringify(__NEXT_DATA__)\n      return htmlEscapeJsonString(data)\n    } catch (err) {\n      if (err.message.indexOf('circular structure')) {\n        throw new Error(\n          `Circular structure in \"getInitialProps\" result of page \"${__NEXT_DATA__.page}\". https://err.sh/vercel/next.js/circular-structure`\n        )\n      }\n      throw err\n    }\n  }\n\n  render() {\n    const {\n      staticMarkup,\n      assetPrefix,\n      inAmpMode,\n      devFiles,\n      __NEXT_DATA__,\n      bodyTags,\n      unstable_runtimeJS,\n    } = this.context._documentProps\n    const disableRuntimeJS = unstable_runtimeJS === false\n\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    if (inAmpMode) {\n      if (process.env.NODE_ENV === 'production') {\n        return null\n      }\n\n      const devFiles = [\n        CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH,\n        CLIENT_STATIC_FILES_RUNTIME_AMP,\n        CLIENT_STATIC_FILES_RUNTIME_WEBPACK,\n      ]\n\n      return (\n        <>\n          {staticMarkup || disableRuntimeJS ? null : (\n            <script\n              id=\"__NEXT_DATA__\"\n              type=\"application/json\"\n              nonce={this.props.nonce}\n              crossOrigin={this.props.crossOrigin || process.crossOrigin}\n              dangerouslySetInnerHTML={{\n                __html: NextScript.getInlineScriptSource(\n                  this.context._documentProps\n                ),\n              }}\n              data-ampdevmode\n            />\n          )}\n          {devFiles\n            ? devFiles.map((file) => (\n                <script\n                  key={file}\n                  src={`${assetPrefix}/_next/${file}${_devOnlyInvalidateCacheQueryString}`}\n                  nonce={this.props.nonce}\n                  crossOrigin={this.props.crossOrigin || process.crossOrigin}\n                  data-ampdevmode\n                />\n              ))\n            : null}\n          {React.createElement(React.Fragment, {}, ...(bodyTags || []))}\n        </>\n      )\n    }\n\n    const { page, buildId } = __NEXT_DATA__\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.props.crossOrigin)\n        console.warn(\n          'Warning: `NextScript` attribute `crossOrigin` is deprecated. https://err.sh/next.js/doc-crossorigin-deprecated'\n        )\n    }\n\n    const pageScript = [\n      <script\n        async\n        data-next-page={page}\n        key={page}\n        src={\n          assetPrefix +\n          encodeURI(`/_next/static/${buildId}/pages${getPageFile(page)}`) +\n          _devOnlyInvalidateCacheQueryString\n        }\n        nonce={this.props.nonce}\n        crossOrigin={this.props.crossOrigin || process.crossOrigin}\n        {...(process.env.__NEXT_MODERN_BUILD ? { noModule: true } : {})}\n      />,\n      process.env.__NEXT_MODERN_BUILD && (\n        <script\n          async\n          data-next-page={page}\n          key={`${page}-modern`}\n          src={\n            assetPrefix +\n            getOptionalModernScriptVariant(\n              encodeURI(`/_next/static/${buildId}/pages${getPageFile(page)}`)\n            ) +\n            _devOnlyInvalidateCacheQueryString\n          }\n          nonce={this.props.nonce}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          type=\"module\"\n        />\n      ),\n    ]\n\n    const appScript = [\n      <script\n        async\n        data-next-page=\"/_app\"\n        src={\n          assetPrefix +\n          `/_next/static/${buildId}/pages/_app.js` +\n          _devOnlyInvalidateCacheQueryString\n        }\n        key=\"_app\"\n        nonce={this.props.nonce}\n        crossOrigin={this.props.crossOrigin || process.crossOrigin}\n        {...(process.env.__NEXT_MODERN_BUILD ? { noModule: true } : {})}\n      />,\n      process.env.__NEXT_MODERN_BUILD && (\n        <script\n          async\n          data-next-page=\"/_app\"\n          src={\n            assetPrefix +\n            `/_next/static/${buildId}/pages/_app.module.js` +\n            _devOnlyInvalidateCacheQueryString\n          }\n          key=\"_app-modern\"\n          nonce={this.props.nonce}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          type=\"module\"\n        />\n      ),\n    ]\n\n    return (\n      <>\n        {!disableRuntimeJS && devFiles\n          ? devFiles.map(\n              (file: string) =>\n                !file.match(/\\.js\\.map/) && (\n                  <script\n                    key={file}\n                    src={`${assetPrefix}/_next/${encodeURI(\n                      file\n                    )}${_devOnlyInvalidateCacheQueryString}`}\n                    nonce={this.props.nonce}\n                    crossOrigin={this.props.crossOrigin || process.crossOrigin}\n                  />\n                )\n            )\n          : null}\n        {staticMarkup || disableRuntimeJS ? null : (\n          <script\n            id=\"__NEXT_DATA__\"\n            type=\"application/json\"\n            nonce={this.props.nonce}\n            crossOrigin={this.props.crossOrigin || process.crossOrigin}\n            dangerouslySetInnerHTML={{\n              __html: NextScript.getInlineScriptSource(\n                this.context._documentProps\n              ),\n            }}\n          />\n        )}\n        {process.env.__NEXT_MODERN_BUILD && !disableRuntimeJS ? (\n          <script\n            nonce={this.props.nonce}\n            crossOrigin={this.props.crossOrigin || process.crossOrigin}\n            noModule={true}\n            dangerouslySetInnerHTML={{\n              __html: NextScript.safariNomoduleFix,\n            }}\n          />\n        ) : null}\n        {!disableRuntimeJS && this.getPolyfillScripts()}\n        {!disableRuntimeJS && appScript}\n        {!disableRuntimeJS && page !== '/_error' && pageScript}\n        {disableRuntimeJS || staticMarkup ? null : this.getDynamicChunks()}\n        {disableRuntimeJS || staticMarkup ? null : this.getScripts()}\n        {React.createElement(React.Fragment, {}, ...(bodyTags || []))}\n      </>\n    )\n  }\n}\n\nfunction getAmpPath(ampPath: string, asPath: string): string {\n  return ampPath || `${asPath}${asPath.includes('?') ? '&' : '?'}amp=1`\n}\n\nfunction getPageFile(page: string, buildId?: string): string {\n  const startingUrl = page === '/' ? '/index' : page\n  return buildId ? `${startingUrl}.${buildId}.js` : `${startingUrl}.js`\n}\n"]}